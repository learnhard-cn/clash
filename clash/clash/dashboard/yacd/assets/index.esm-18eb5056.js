import{r as E,aj as at}from"./index-3b7e2f10.js";function $(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function L(i,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L(i,t)}function ot(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,L(i,t)}var U=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function st(i,t){return!!(i===t||U(i)&&U(t))}function lt(i,t){if(i.length!==t.length)return!1;for(var r=0;r<i.length;r++)if(!st(i[r],t[r]))return!1;return!0}function F(i,t){t===void 0&&(t=lt);var r,n=[],a,l=!1;function c(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return l&&r===this&&t(f,n)||(a=i.apply(this,f),l=!0,r=this,n=f),a}return c}function q(i,t){if(i==null)return{};var r={},n=Object.keys(i),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(r[a]=i[a]);return r}var ct=typeof performance=="object"&&typeof performance.now=="function",H=ct?function(){return performance.now()}:function(){return Date.now()};function j(i){cancelAnimationFrame(i.id)}function ut(i,t){var r=H();function n(){H()-r>=t?i.call(null):a.id=requestAnimationFrame(n)}var a={id:requestAnimationFrame(n)};return a}var N=-1;function K(i){if(i===void 0&&(i=!1),N===-1||i){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),N=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return N}var _=null;function V(i){if(i===void 0&&(i=!1),_===null||i){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),a=n.style;return a.width="100px",a.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?_="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?_="negative":_="positive-ascending"),document.body.removeChild(t),_}return _}var ft=150,dt=function(t,r){return t};function Z(i){var t,r=i.getItemOffset,n=i.getEstimatedTotalSize,a=i.getItemSize,l=i.getOffsetForIndexAndAlignment,c=i.getStartIndexForOffset,f=i.getStopIndexForStartIndex,p=i.initInstanceProps,z=i.shouldResetStyleCacheOnItemSizeChange,S=i.validateProps;return t=function(O){ot(M,O);function M(v){var e;return e=O.call(this,v)||this,e._instanceProps=p(e.props,$(e)),e._outerRef=void 0,e._resetIsScrollingTimeoutId=null,e.state={instance:$(e),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof e.props.initialScrollOffset=="number"?e.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},e._callOnItemsRendered=void 0,e._callOnItemsRendered=F(function(o,s,u,m){return e.props.onItemsRendered({overscanStartIndex:o,overscanStopIndex:s,visibleStartIndex:u,visibleStopIndex:m})}),e._callOnScroll=void 0,e._callOnScroll=F(function(o,s,u){return e.props.onScroll({scrollDirection:o,scrollOffset:s,scrollUpdateWasRequested:u})}),e._getItemStyle=void 0,e._getItemStyle=function(o){var s=e.props,u=s.direction,m=s.itemSize,g=s.layout,d=e._getItemStyleCache(z&&m,z&&g,z&&u),h;if(d.hasOwnProperty(o))h=d[o];else{var y=r(e.props,o,e._instanceProps),x=a(e.props,o,e._instanceProps),T=u==="horizontal"||g==="horizontal",b=u==="rtl",R=T?y:0;d[o]=h={position:"absolute",left:b?void 0:R,right:b?R:void 0,top:T?0:y,height:T?"100%":x,width:T?x:"100%"}}return h},e._getItemStyleCache=void 0,e._getItemStyleCache=F(function(o,s,u){return{}}),e._onScrollHorizontal=function(o){var s=o.currentTarget,u=s.clientWidth,m=s.scrollLeft,g=s.scrollWidth;e.setState(function(d){if(d.scrollOffset===m)return null;var h=e.props.direction,y=m;if(h==="rtl")switch(V()){case"negative":y=-m;break;case"positive-descending":y=g-u-m;break}return y=Math.max(0,Math.min(y,g-u)),{isScrolling:!0,scrollDirection:d.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._onScrollVertical=function(o){var s=o.currentTarget,u=s.clientHeight,m=s.scrollHeight,g=s.scrollTop;e.setState(function(d){if(d.scrollOffset===g)return null;var h=Math.max(0,Math.min(g,m-u));return{isScrolling:!0,scrollDirection:d.scrollOffset<h?"forward":"backward",scrollOffset:h,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._outerRefSetter=function(o){var s=e.props.outerRef;e._outerRef=o,typeof s=="function"?s(o):s!=null&&typeof s=="object"&&s.hasOwnProperty("current")&&(s.current=o)},e._resetIsScrollingDebounced=function(){e._resetIsScrollingTimeoutId!==null&&j(e._resetIsScrollingTimeoutId),e._resetIsScrollingTimeoutId=ut(e._resetIsScrolling,ft)},e._resetIsScrolling=function(){e._resetIsScrollingTimeoutId=null,e.setState({isScrolling:!1},function(){e._getItemStyleCache(-1,null)})},e}M.getDerivedStateFromProps=function(e,o){return mt(e,o),S(e),null};var I=M.prototype;return I.scrollTo=function(e){e=Math.max(0,e),this.setState(function(o){return o.scrollOffset===e?null:{scrollDirection:o.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},I.scrollToItem=function(e,o){o===void 0&&(o="auto");var s=this.props,u=s.itemCount,m=s.layout,g=this.state.scrollOffset;e=Math.max(0,Math.min(e,u-1));var d=0;if(this._outerRef){var h=this._outerRef;m==="vertical"?d=h.scrollWidth>h.clientWidth?K():0:d=h.scrollHeight>h.clientHeight?K():0}this.scrollTo(l(this.props,e,o,g,this._instanceProps,d))},I.componentDidMount=function(){var e=this.props,o=e.direction,s=e.initialScrollOffset,u=e.layout;if(typeof s=="number"&&this._outerRef!=null){var m=this._outerRef;o==="horizontal"||u==="horizontal"?m.scrollLeft=s:m.scrollTop=s}this._callPropsCallbacks()},I.componentDidUpdate=function(){var e=this.props,o=e.direction,s=e.layout,u=this.state,m=u.scrollOffset,g=u.scrollUpdateWasRequested;if(g&&this._outerRef!=null){var d=this._outerRef;if(o==="horizontal"||s==="horizontal")if(o==="rtl")switch(V()){case"negative":d.scrollLeft=-m;break;case"positive-ascending":d.scrollLeft=m;break;default:var h=d.clientWidth,y=d.scrollWidth;d.scrollLeft=y-h-m;break}else d.scrollLeft=m;else d.scrollTop=m}this._callPropsCallbacks()},I.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&j(this._resetIsScrollingTimeoutId)},I.render=function(){var e=this.props,o=e.children,s=e.className,u=e.direction,m=e.height,g=e.innerRef,d=e.innerElementType,h=e.innerTagName,y=e.itemCount,x=e.itemData,T=e.itemKey,b=T===void 0?dt:T,R=e.layout,Q=e.outerElementType,X=e.outerTagName,Y=e.style,tt=e.useIsScrolling,et=e.width,W=this.state.isScrolling,P=u==="horizontal"||R==="horizontal",rt=P?this._onScrollHorizontal:this._onScrollVertical,A=this._getRangeToRender(),it=A[0],nt=A[1],D=[];if(y>0)for(var w=it;w<=nt;w++)D.push(E.createElement(o,{data:x,key:b(w,x),index:w,isScrolling:tt?W:void 0,style:this._getItemStyle(w)}));var k=n(this.props,this._instanceProps);return E.createElement(Q||X||"div",{className:s,onScroll:rt,ref:this._outerRefSetter,style:at({position:"relative",height:m,width:et,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:u},Y)},E.createElement(d||h||"div",{children:D,ref:g,style:{height:P?"100%":k,pointerEvents:W?"none":void 0,width:P?k:"100%"}}))},I._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var e=this.props.itemCount;if(e>0){var o=this._getRangeToRender(),s=o[0],u=o[1],m=o[2],g=o[3];this._callOnItemsRendered(s,u,m,g)}}if(typeof this.props.onScroll=="function"){var d=this.state,h=d.scrollDirection,y=d.scrollOffset,x=d.scrollUpdateWasRequested;this._callOnScroll(h,y,x)}},I._getRangeToRender=function(){var e=this.props,o=e.itemCount,s=e.overscanCount,u=this.state,m=u.isScrolling,g=u.scrollDirection,d=u.scrollOffset;if(o===0)return[0,0,0,0];var h=c(this.props,d,this._instanceProps),y=f(this.props,h,d,this._instanceProps),x=!m||g==="backward"?Math.max(1,s):1,T=!m||g==="forward"?Math.max(1,s):1;return[Math.max(0,h-x),Math.max(0,Math.min(o-1,y+T)),h,y]},M}(E.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var mt=function(t,r){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,r.instance},ht=50,C=function(t,r,n){var a=t,l=a.itemSize,c=n.itemMetadataMap,f=n.lastMeasuredIndex;if(r>f){var p=0;if(f>=0){var z=c[f];p=z.offset+z.size}for(var S=f+1;S<=r;S++){var O=l(S);c[S]={offset:p,size:O},p+=O}n.lastMeasuredIndex=r}return c[r]},vt=function(t,r,n){var a=r.itemMetadataMap,l=r.lastMeasuredIndex,c=l>0?a[l].offset:0;return c>=n?J(t,r,l,0,n):pt(t,r,Math.max(0,l),n)},J=function(t,r,n,a,l){for(;a<=n;){var c=a+Math.floor((n-a)/2),f=C(t,c,r).offset;if(f===l)return c;f<l?a=c+1:f>l&&(n=c-1)}return a>0?a-1:0},pt=function(t,r,n,a){for(var l=t.itemCount,c=1;n<l&&C(t,n,r).offset<a;)n+=c,c*=2;return J(t,r,Math.min(n,l-1),Math.floor(n/2),a)},B=function(t,r){var n=t.itemCount,a=r.itemMetadataMap,l=r.estimatedItemSize,c=r.lastMeasuredIndex,f=0;if(c>=n&&(c=n-1),c>=0){var p=a[c];f=p.offset+p.size}var z=n-c-1,S=z*l;return f+S},yt=Z({getItemOffset:function(t,r,n){return C(t,r,n).offset},getItemSize:function(t,r,n){return n.itemMetadataMap[r].size},getEstimatedTotalSize:B,getOffsetForIndexAndAlignment:function(t,r,n,a,l,c){var f=t.direction,p=t.height,z=t.layout,S=t.width,O=f==="horizontal"||z==="horizontal",M=O?S:p,I=C(t,r,l),v=B(t,l),e=Math.max(0,Math.min(v-M,I.offset)),o=Math.max(0,I.offset-M+I.size+c);switch(n==="smart"&&(a>=o-M&&a<=e+M?n="auto":n="center"),n){case"start":return e;case"end":return o;case"center":return Math.round(o+(e-o)/2);case"auto":default:return a>=o&&a<=e?a:a<o?o:e}},getStartIndexForOffset:function(t,r,n){return vt(t,n,r)},getStopIndexForStartIndex:function(t,r,n,a){for(var l=t.direction,c=t.height,f=t.itemCount,p=t.layout,z=t.width,S=l==="horizontal"||p==="horizontal",O=S?z:c,M=C(t,r,a),I=n+O,v=M.offset+M.size,e=r;e<f-1&&v<I;)e++,v+=C(t,e,a).size;return e},initInstanceProps:function(t,r){var n=t,a=n.estimatedItemSize,l={itemMetadataMap:{},estimatedItemSize:a||ht,lastMeasuredIndex:-1};return r.resetAfterIndex=function(c,f){f===void 0&&(f=!0),l.lastMeasuredIndex=Math.min(l.lastMeasuredIndex,c-1),r._getItemStyleCache(-1),f&&r.forceUpdate()},l},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}}),zt=Z({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,a,l,c){var f=t.direction,p=t.height,z=t.itemCount,S=t.itemSize,O=t.layout,M=t.width,I=f==="horizontal"||O==="horizontal",v=I?M:p,e=Math.max(0,z*S-v),o=Math.min(e,r*S),s=Math.max(0,r*S-v+S+c);switch(n==="smart"&&(a>=s-v&&a<=o+v?n="auto":n="center"),n){case"start":return o;case"end":return s;case"center":{var u=Math.round(s+(o-s)/2);return u<Math.ceil(v/2)?0:u>e+Math.floor(v/2)?e:u}case"auto":default:return a>=s&&a<=o?a:a<s?s:o}},getStartIndexForOffset:function(t,r){var n=t.itemCount,a=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/a)))},getStopIndexForStartIndex:function(t,r,n){var a=t.direction,l=t.height,c=t.itemCount,f=t.itemSize,p=t.layout,z=t.width,S=a==="horizontal"||p==="horizontal",O=r*f,M=S?z:l,I=Math.ceil((M+n-O)/f);return Math.max(0,Math.min(c-1,r+I-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});function G(i,t){for(var r in i)if(!(r in t))return!0;for(var n in t)if(i[n]!==t[n])return!0;return!1}var St=["style"],gt=["style"];function Mt(i,t){var r=i.style,n=q(i,St),a=t.style,l=q(t,gt);return!G(r,a)&&!G(n,l)}export{zt as F,yt as V,Mt as a};
